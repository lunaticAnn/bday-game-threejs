import{S as E,P as I,W as F,a as H,A as R,D as j,F as X,M as q,b as O,G as y,c as V,d as x,e as W,R as Y,f as K,V as w,B as N,g as U,h as Z,i as J,j as Q,k as _,l as $,m as k}from"./vendor.da998bbe.js";const ee=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}};ee();const l=new E,f=new I(75,window.innerWidth/window.innerHeight,.1,1e3),m=new F({canvas:document.querySelector("#bg")});m.setPixelRatio(window.devicePixelRatio);m.setSize(window.innerWidth,window.innerHeight);f.position.set(-3,30,300);m.render(l,f);const p=new H(11425280);p.decay=2;p.intensity=100;p.distance=100;p.position.set(-70,60,80);const te=new R(3491817,.2),A=new j(13472871,.8);A.position.set(90,0,90);l.add(p,A,te);const ne=new X;new q;const oe=new O({color:16755370,transparent:!0,opacity:0});let g;var r={},v=new Object;const M=new y;l.add(M);const D=new y;l.add(D);function ie(t,i,a){var s=new N().setFromObject(t),e=new w,o=new w;s.getCenter(e),s.getSize(o);const n=new x(new U(o.x,o.y,o.z),oe);n.position.set(e.x,e.y,e.z),n.name=i,a.add(n)}function ae(t,i,a){const s=new Z(t).build();t.position;const e=[],o=new w;for(let P=0;P<i;P++)s.sample(o),e.push(o.x,o.y,o.z);const n=new J;n.setAttribute("position",new Q(e,3));const u=new _({color:16702144,size:.5,alphaTest:.2}),L=new $(n,u);L.matrixWorld=t.matrixWorld,a.add(L)}function h(t,i,a,s=!0){ne.load(t+".fbx",function(e){r[t]=e,e.scale.set(i,i,i);const o=new y;o.name=t,D.add(o),e.traverse(function(n){if(n.isMesh){if(n.material.length){v[n.uuid]=[];for(var u=0;u<n.material.length;++u)v[n.uuid].push(n.material[u].clone()),n.material[u].transparent=!0,n.material[u].opacity=.5}else v[n.uuid]=n.material.clone(),n.material.transparent=!0,n.material.opacity=.2;n.castShadow=!0,n.receiveShadow=!0,ae(n,1500,o)}}),a(),s&&ie(e,t,M),l.add(e)},e=>{console.log(e)},e=>{console.log(e)})}const G=new O({color:0,side:V}),T=new x(new W(500,1e3),G);l.add(T);T.position.set(-294,0,70);const z=new x(new W(500,1e3),G);l.add(z);z.position.set(290,0,70);h("Door",.1,function(){r.Door.position.set(-4.5,5.3,30.6),g=new K(r.Door),g.clipAction(r.Door.animations[0]).play()});h("CabinateSet",.1,function(){r.CabinateSet.position.set(-314.5,0,-410.6),r.CabinateSet.rotateOnAxis(new w(0,1,0),Math.PI)});h("TableSet",.1,function(){r.TableSet.position.set(64.5,0,-410.6),r.TableSet.rotateOnAxis(new w(0,1,0),Math.PI)});h("Chair",.1,function(){r.Chair.position.set(-44.5,0,-410.6),r.Chair.rotateOnAxis(new w(0,1,0),Math.PI)});h("IndoorLight",.004,function(){r.IndoorLight.position.set(314.5,50,-510.6)});window.addEventListener("resize",()=>{m.setSize(window.innerWidth,window.innerHeight),f.aspect=window.innerWidth/window.innerHeight,f.updateProjectionMatrix()});const B=new Y,b=new k;function re(t){b.x=t.clientX/window.innerWidth*2-1,b.y=-(t.clientY/window.innerHeight)*2+1}window.addEventListener("mousemove",re,!1);var c=0;const se=.002;function ce(t){c-=t.deltaY*se,c=Math.max(0,c)}window.addEventListener("wheel",ce,!1);function le(t){return t.touches||t.originalEvent.touches}var S=null;function de(t){S=le(t)[0].clientX}const ue=.005;function fe(t){var i=t.touches[0].clientX,a=S-i;c-=a*ue,c=Math.max(0,c),S=i}window.addEventListener("touchstart",de,!1);window.addEventListener("touchmove",fe,!1);var d="";function we(t,i,a){B.setFromCamera(b,f);const s=B.intersectObjects(t.children);s.length>0?d!=s[0].object.name&&(d!=""&&a&&a(r[d]),d=s[0].object.name,i&&i(r[d])):d!=""&&(a&&a(r[d]),d="")}function me(){if(c<10)if(f.position.setZ(300-30*c),c<3){var t=document.getElementById("title");t.style.opacity=1-.35*c}else c>3&&c<6.5&&g&&g.setTime((c-3)*.2+.05)}function C(){requestAnimationFrame(C),we(M),me(),m.render(l,f)}C();
